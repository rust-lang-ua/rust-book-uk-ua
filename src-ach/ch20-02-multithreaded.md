## crwdns32794:0crwdne32794:0

crwdns32800:0crwdne32800:0 crwdns32802:0crwdne32802:0 crwdns32808:0crwdne32808:0 crwdns32812:0crwdne32812:0

### crwdns32816:0crwdne32816:0

crwdns32818:0crwdne32818:0 crwdns32822:0crwdne32822:0

<span class="filename">crwdns32830:0crwdne32830:0</span>

```rust,no_run
crwdns32832:0crwdne32832:0
```


<span class="caption">crwdns32836:0crwdne32836:0</span>

crwdns32842:0crwdne32842:0 crwdns32846:0crwdne32846:0

crwdns32848:0crwdne32848:0 crwdns32850:0crwdne32850:0 crwdns32854:0crwdne32854:0 crwdns32858:0crwdne32858:0

crwdns32860:0crwdne32860:0

crwdns32862:0crwdne32862:0 crwdns32864:0crwdne32864:0 crwdns32866:0crwdne32866:0 crwdns32868:0crwdne32868:0

crwdns32870:0crwdne32870:0

### crwdns32872:0crwdne32872:0

crwdns32874:0crwdne32874:0 crwdns32876:0crwdne32876:0 crwdns32878:0crwdne32878:0 crwdns32880:0crwdne32880:0 crwdns32882:0crwdne32882:0

crwdns32884:0crwdne32884:0

crwdns32886:0crwdne32886:0 crwdns32888:0crwdne32888:0 crwdns32890:0crwdne32890:0 crwdns32892:0crwdne32892:0 crwdns32894:0crwdne32894:0 crwdns32896:0crwdne32896:0

crwdns32898:0crwdne32898:0 crwdns32900:0crwdne32900:0 crwdns32902:0crwdne32902:0

crwdns32904:0crwdne32904:0 crwdns32906:0crwdne32906:0 crwdns32908:0crwdne32908:0

crwdns32910:0crwdne32910:0 crwdns32912:0crwdne32912:0 crwdns32914:0crwdne32914:0

<!-- Old headings. Do not remove or links may break. -->
<a id="code-structure-if-we-could-spawn-a-thread-for-each-request"></a>

#### crwdns32916:0crwdne32916:0

crwdns32918:0crwdne32918:0 crwdns32920:0crwdne32920:0 crwdns32922:0crwdne32922:0 crwdns32924:0crwdne32924:0

<span class="filename">crwdns32926:0crwdne32926:0</span>

```rust,no_run
crwdns32928:0crwdne32928:0
```


<span class="caption">crwdns32930:0crwdne32930:0</span>

crwdns32932:0crwdne32932:0 crwdns32934:0crwdne32934:0 crwdns32936:0crwdne32936:0

<!-- Old headings. Do not remove or links may break. -->
<a id="creating-a-similar-interface-for-a-finite-number-of-threads"></a>

#### crwdns32940:0crwdne32940:0

crwdns32944:0crwdne32944:0 crwdns32950:0crwdne32950:0

<span class="filename">crwdns32952:0crwdne32952:0</span>

```rust,ignore,does_not_compile
crwdns32956:0crwdne32956:0
```

<span class="caption">crwdns32962:0crwdne32962:0</span>

crwdns32966:0crwdne32966:0 crwdns32970:0crwdne32970:0 crwdns32974:0crwdne32974:0 crwdns32976:0crwdne32976:0

<!-- Old headings. Do not remove or links may break. -->
<a id="building-the-threadpool-struct-using-compiler-driven-development"></a>

#### crwdns32980:0crwdne32980:0

crwdns32984:0crwdne32984:0 crwdns32988:0crwdne32988:0

```console
crwdns32998:0crwdne32998:0
```

crwdns33002:0crwdne33002:0 crwdns33008:0crwdne33008:0 crwdns33016:0crwdne33016:0 crwdns33020:0crwdne33020:0 crwdns33024:0crwdne33024:0

crwdns33028:0crwdne33028:0

<span class="filename">crwdns33032:0crwdne33032:0</span>

```rust,noplayground
crwdns33036:0crwdne33036:0
```

crwdns33040:0crwdne33040:0

<span class="filename">crwdns33046:0crwdne33046:0</span>

```rust,ignore
crwdns33052:0crwdne33052:0
```

crwdns33058:0crwdne33058:0

```console
crwdns33062:0crwdne33062:0
```

crwdns33066:0crwdne33066:0 crwdns33070:0crwdne33070:0 crwdns33072:0crwdne33072:0

<span class="filename">crwdns33074:0crwdne33074:0</span>

```rust,noplayground
crwdns33078:0crwdne33078:0
```

crwdns33080:0crwdne33080:0 crwdns33084:0crwdne33084:0<!--
ignore --> crwdns33088:0crwdne33088:0

crwdns33090:0crwdne33090:0

```console
crwdns33092:0crwdne33092:0
```

crwdns33098:0crwdne33098:0 crwdns33104:0crwdne33104:0<!-- ignore --> crwdns33108:0crwdne33108:0 crwdns33112:0crwdne33112:0

crwdns33116:0crwdne33116:0 crwdns33126:0crwdne33126:0<!-- ignore --> crwdns33130:0crwdne33130:0 crwdns33134:0crwdne33134:0 crwdns33142:0crwdne33142:0 crwdns33146:0crwdne33146:0

```rust,ignore
crwdns33148:0crwdne33148:0
```

crwdns33150:0crwdne33150:0 crwdns33154:0crwdne33154:0 crwdns33158:0crwdne33158:0 crwdns33160:0crwdne33160:0

crwdns33164:0crwdne33164:0 crwdns33168:0crwdne33168:0

<span class="filename">crwdns33172:0crwdne33172:0</span>

```rust,noplayground
crwdns33176:0crwdne33176:0
```

crwdns33184:0crwdne33184:0 crwdns33186:0crwdne33186:0

crwdns33192:0crwdne33192:0 crwdns33196:0crwdne33196:0

```console
crwdns33200:0crwdne33200:0
```

crwdns33204:0crwdne33204:0 crwdns33208:0crwdne33208:0 crwdns33212:0crwdne33212:0

> crwdns33218:0crwdne33218:0 crwdns33226:0crwdne33226:0 crwdns33230:0crwdne33230:0 crwdns33234:0crwdne33234:0

#### crwdns33240:0crwdne33240:0

crwdns33244:0crwdne33244:0 crwdns33248:0crwdne33248:0 crwdns33254:0crwdne33254:0 crwdns33256:0crwdne33256:0 crwdns33258:0crwdne33258:0 crwdns33260:0crwdne33260:0

<span class="filename">crwdns33264:0crwdne33264:0</span>

```rust,noplayground
crwdns33268:0crwdne33268:0
```


<span class="caption">crwdns33272:0crwdne33272:0</span>

crwdns33276:0crwdne33276:0 crwdns33280:0crwdne33280:0 crwdns33284:0crwdne33284:0

crwdns33288:0crwdne33288:0 crwdns33294:0crwdne33294:0 crwdns33302:0crwdne33302:0

```rust,ignore
crwdns33306:0crwdne33306:0
```

#### crwdns33310:0crwdne33310:0

crwdns33314:0crwdne33314:0 crwdns33318:0crwdne33318:0 crwdns33320:0crwdne33320:0

```rust,ignore
crwdns33326:0crwdne33326:0
```

crwdns33328:0crwdne33328:0 crwdns33334:0crwdne33334:0 crwdns33338:0crwdne33338:0

crwdns33340:0crwdne33340:0 crwdns33344:0crwdne33344:0

<span class="filename">crwdns33350:0crwdne33350:0</span>

```rust,ignore,not_desired_behavior
crwdns33354:0crwdne33354:0
```


<span class="caption">crwdns33358:0crwdne33358:0</span>

crwdns33362:0crwdne33362:0

crwdns33366:0crwdne33366:0 crwdns33370:0crwdne33370:0 crwdns33376:0crwdne33376:0

crwdns33380:0crwdne33380:0

#### crwdns33382:0crwdne33382:0

crwdns33386:0crwdne33386:0 crwdns33388:0crwdne33388:0 crwdns33390:0crwdne33390:0 crwdns33392:0crwdne33392:0 crwdns33394:0crwdne33394:0

crwdns33398:0crwdne33398:0 crwdns33402:0crwdne33402:0 crwdns33404:0crwdne33404:0 crwdns33406:0crwdne33406:0

crwdns33408:0crwdne33408:0 crwdns33410:0crwdne33410:0 crwdns33420:0crwdne33420:0 crwdns33424:0crwdne33424:0

crwdns33426:0crwdne33426:0 crwdns33430:0crwdne33430:0

1. crwdns33436:0crwdne33436:0
2. crwdns33442:0crwdne33442:0
3. crwdns33446:0crwdne33446:0
4. crwdns33448:0crwdne33448:0

crwdns33460:0crwdne33460:0

crwdns33462:0crwdne33462:0 crwdns33464:0crwdne33464:0

<span class="filename">crwdns33470:0crwdne33470:0</span>

```rust,noplayground
crwdns33472:0crwdne33472:0
```


<span class="caption">crwdns33476:0crwdne33476:0</span>

crwdns33482:0crwdne33482:0 crwdns33488:0crwdne33488:0

crwdns33492:0crwdne33492:0 crwdns33498:0crwdne33498:0

> crwdns33500:0crwdne33500:0 crwdns33502:0crwdne33502:0 crwdns33506:0:thread:crwdne33506:0<!-- ignore --> crwdns33512:0crwdne33512:0<!-- ignore --> crwdns33514:0crwdne33514:0

crwdns33518:0crwdne33518:0 crwdns33520:0crwdne33520:0 crwdns33526:0crwdne33526:0

#### crwdns33528:0crwdne33528:0

crwdns33534:0crwdne33534:0 crwdns33538:0crwdne33538:0 crwdns33542:0crwdne33542:0

crwdns33544:0crwdne33544:0

crwdns33548:0crwdne33548:0 crwdns33550:0crwdne33550:0 crwdns33556:0crwdne33556:0

1. crwdns33564:0crwdne33564:0
2. crwdns33566:0crwdne33566:0
3. crwdns33568:0crwdne33568:0
4. crwdns33572:0crwdne33572:0
5. crwdns33576:0crwdne33576:0

crwdns33582:0crwdne33582:0 crwdns33590:0crwdne33590:0

<span class="filename">crwdns33594:0crwdne33594:0</span>

```rust,noplayground
crwdns33596:0crwdne33596:0
```


<span class="caption">crwdns33600:0crwdne33600:0</span>

crwdns33606:0crwdne33606:0 crwdns33612:0crwdne33612:0

crwdns33614:0crwdne33614:0 crwdns33618:0crwdne33618:0 crwdns33626:0crwdne33626:0

<span class="filename">crwdns33628:0crwdne33628:0</span>

```rust,ignore,does_not_compile
crwdns33632:0crwdne33632:0
```

<span class="caption">crwdns33636:0crwdne33636:0</span>

crwdns33638:0crwdne33638:0

crwdns33642:0crwdne33642:0

```console
crwdns33648:0crwdne33648:0
```

crwdns33650:0crwdne33650:0 crwdns33652:0crwdne33652:0 crwdns33654:0crwdne33654:0 crwdns33658:0crwdne33658:0

crwdns33666:0crwdne33666:0

crwdns33668:0crwdne33668:0 crwdns33674:0crwdne33674:0 crwdns33686:0crwdne33686:0

<span class="filename">crwdns33692:0crwdne33692:0</span>

```rust,noplayground
crwdns33694:0crwdne33694:0
```


<span class="caption">crwdns33698:0crwdne33698:0</span>

crwdns33702:0crwdne33702:0 crwdns33704:0crwdne33704:0

crwdns33708:0crwdne33708:0 crwdns33710:0crwdne33710:0

#### crwdns33714:0crwdne33714:0

crwdns33716:0crwdne33716:0 crwdns33720:0crwdne33720:0 crwdns33724:0crwdne33724:0<!-- ignore -->
crwdns33726:0crwdne33726:0 crwdns33734:0crwdne33734:0

<span class="filename">crwdns33738:0crwdne33738:0</span>

```rust,noplayground
crwdns33742:0crwdne33742:0
```


<span class="caption">crwdns33744:0crwdne33744:0</span>

crwdns33748:0crwdne33748:0 crwdns33750:0crwdne33750:0 crwdns33754:0crwdne33754:0 crwdns33756:0crwdne33756:0 crwdns33758:0crwdne33758:0

crwdns33762:0crwdne33762:0 crwdns33764:0crwdne33764:0 crwdns33766:0crwdne33766:0 crwdns33768:0crwdne33768:0

<span class="filename">crwdns33772:0crwdne33772:0</span>

```rust,noplayground
crwdns33774:0crwdne33774:0
```


<span class="caption">crwdns33778:0crwdne33778:0</span>

crwdns33782:0crwdne33782:0 crwdns33786:0crwdne33786:0 crwdns33790:0crwdne33790:0 crwdns33794:0crwdne33794:0

crwdns33796:0crwdne33796:0 crwdns33798:0crwdne33798:0

crwdns33802:0crwdne33802:0 crwdns33804:0crwdne33804:0

crwdns33806:0crwdne33806:0 crwdns33812:0crwdne33812:0

<!-- manual-regeneration
cd listings/ch20-web-server/listing-20-20
cargo run
make some requests to 127.0.0.1:7878
Can't automate because the output depends on making requests
-->

```console
crwdns33816:0crwdne33816:0
crwdns33820:0crwdne33820:0
crwdns33824:0crwdne33824:0
crwdns33828:0crwdne33828:0
crwdns33832:0crwdne33832:0
crwdns33834:0crwdne33834:0
crwdns33838:0crwdne33838:0
crwdns33842:0crwdne33842:0
crwdns33846:0crwdne33846:0
crwdns33848:0crwdne33848:0
```

crwdns33850:0crwdne33850:0 crwdns33852:0crwdne33852:0 crwdns33854:0crwdne33854:0 crwdns33856:0crwdne33856:0

> crwdns33858:0crwdne33858:0 crwdns33860:0crwdne33860:0 crwdns33862:0crwdne33862:0

crwdns33864:0crwdne33864:0

<span class="filename">crwdns33866:0crwdne33866:0</span>

```rust,ignore,not_desired_behavior
crwdns33868:0crwdne33868:0
```


<span class="caption">crwdns33870:0crwdne33870:0</span>

crwdns33872:0crwdne33872:0 crwdns33874:0crwdne33874:0 crwdns33876:0crwdne33876:0 crwdns33878:0crwdne33878:0

crwdns33880:0crwdne33880:0 crwdns33882:0crwdne33882:0 crwdns33884:0crwdne33884:0
crwdns33886:0crwdne33886:0
